<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DictionWave</title>
    <style>
        body {
            margin: 20px;
        }

        h1 {
            margin: 0;
            /* Remove default margin for alignment */
            display: inline;
            /* Keep the heading inline */
        }

        .header {
            display: flex;
            /* Use flexbox to align items */
            align-items: center;
            /* Center items vertically */
            margin-bottom: 20px;
            /* Space below the header */
        }

        .search-container {
            display: flex;
            /* Flexbox for horizontal alignment */
            align-items: center;
            /* Center items vertically */
            margin-left: 20px;
            /* Space between heading and search bar */
        }

        .input-container {
            display: flex;
            /* Flexbox for horizontal alignment */
            align-items: center;
            /* Center items vertically */
            margin-left: 40px;
            /* Increase space between search bar and input fields */
        }

        .input-container label {
            margin-right: 5px;
            /* Space between label and input */
        }

        .input-container input {
            width: 50px;
            /* Set width for numeric inputs */
            margin-left: 5px;
            /* Space between input fields */
            margin-right: 10px;
            /* Add padding to the right of each input */
        }

        .results {
            display: flex;
            /* Use flexbox for side-by-side layout */
            justify-content: space-between;
            /* Space between columns */
            margin-top: 20px;
        }

        .column {
            width: 45%;
            /* Set width of each column */
            padding: 10px;
            /* Add some padding */
        }

        .word {
            display: inline;
            /* Display words inline */
            margin: 0 5px;
            /* Space between words */
            cursor: pointer;
            /* Pointer cursor to indicate clickable */
            text-decoration: none;
            /* No underline */
            color: black;
            /* Text color */
        }
    </style>

<body>
    <div class="header">
        <h1>DictionWave</h1>
        <div class="search-container">
            <form method="post">
                <input type="text" name="word" placeholder="Enter a word" required>
                <button type="submit">Find Similar Words</button>
                <div class="input-container">
                    <label for="num_words">Output size:</label>
                    <input type="number" id="num_words" name="num_words" placeholder="N" min="1"
                        value="{{ request.form.num_words or 10 }}" required>

                    <label for=" rarity_boost">Rarity Boost:</label>
                    <input type="number" id="rarity_boost" name="rarity_boost" placeholder="R" step="0.1"
                        value="{{ request.form.rarity_boost or 1.0 }}" required>

                    <label for="randomness">Randomness:</label>
                    <input type="number" id="randomness" name="randomness" placeholder="Rand" min="0" step="0.1"
                        value="{{ request.form.randomness or 0.0 }}" required>
                </div>
            </form>
        </div>
    </div>

    <div class="results">
        <div class="column">
            {% if similar_words %}
            <h2>Similar Words:</h2>
            <div>
                {% for word in similar_words %}
                <span class="word" onclick="submitWord('{{ word }}')">{{ word }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>

        <div class="column">
            {% if similar_words_boosted %}
            <h2>Rarity Boosted Words:</h2>
            <div>
                {% for word in similar_words_boosted %}
                <span class="word" onclick="submitWord('{{ word }}')">{{ word }}</span>
                {% endfor %}
            </div>
            {% endif %}
        </div>
    </div>

    <script>
        function submitWord(word) {
            const form = document.createElement('form');
            form.method = 'POST';
            form.action = '/';

            const inputWord = document.createElement('input');
            inputWord.type = 'hidden';
            inputWord.name = 'word';
            inputWord.value = word;

            // Get values from the number input fields
            const inputNumWords = document.getElementById('num_words').value;
            const inputRarityBoost = document.getElementById('rarity_boost').value;
            const inputRandomness = document.getElementById('randomness').value;

            // Create hidden inputs for each value
            const inputNumWordsField = document.createElement('input');
            inputNumWordsField.type = 'hidden';
            inputNumWordsField.name = 'num_words';
            inputNumWordsField.value = inputNumWords;

            const inputRarityBoostField = document.createElement('input');
            inputRarityBoostField.type = 'hidden';
            inputRarityBoostField.name = 'rarity_boost';
            inputRarityBoostField.value = inputRarityBoost;

            const inputRandomnessField = document.createElement('input');
            inputRandomnessField.type = 'hidden';
            inputRandomnessField.name = 'randomness';
            inputRandomnessField.value = inputRandomness;

            // Append all inputs to the form
            form.appendChild(inputWord);
            form.appendChild(inputNumWordsField);
            form.appendChild(inputRarityBoostField);
            form.appendChild(inputRandomnessField);

            document.body.appendChild(form);
            form.submit();
        }
    </script>
</body>

</html>